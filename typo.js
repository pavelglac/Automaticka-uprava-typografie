"use strict";function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e;},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}var typo={inLineElements:["B","BIG","I","SMALL","TT","ABBR","ACRONYM","CITE","DFN","EM","KDB","STRONG","SAMP","VAR","A","BDO","MAP","OBJECT","Q","SPAN","SUB","SUP","BUTTON","INPUT","LABEL","SELECT","TEXTAREA"],ignoredElemenents:["SCRIPT","NOSCRIPT","STYLE","TITLE","IFRAME","HEAD","META","HTML","BR","IMG","PRE",""],uselessChar:"\uE000",uselessCharsCollection:["\x1A","\uE001","\uE990"],options:{quote:true,units:true,number:true,space:true,date:true,ellipsis:true,year:true},Rules:{quote:[[/(“|")(\w)/g,"„$2"],[/(“|")\uE000(\w)/g,"\u201E\uE000$2"],[/(”|")( |,|\n*|$)/g,"“$2"],[/(”|")\uE000( |,|\n*|$)/g,"\u201C\uE000$2"],[/(!|\?|\.)(”|")/g,"$1“"],[/(!|\?|\.)\uE000(”|")/g,"$1\uE000\u201C"],[/(\w)(')(\w)/g,"$1’$3"]],units:[[/(\d+)(| )(|m)s/g,"$1"+"\xA0"+"$3s"],[/(\d+)(| )\uE000(| )(|m)s/g,"$1"+"\xA0\uE000"+"$4s"],[/(\d+)(| )(min|h|d)/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(min|h|d)/g,"$1"+"\xA0\uE000"+"$4"],[/(\d+)(| )(|n|m|c|d|k)m/g,"$1"+"\xA0"+"$3m"],[/(\d+)(| )\uE000(| )(|n|m|c|d|k)m/g,"$1"+"\xA0\uE000"+"$3m"],[/(\d+)(| )(|m|h|d|c|b)l/g,"$1"+"\xA0"+"$3l"],[/(\d+)(| )\uE000(| )(|m|h|d|c|b)l/g,"$1"+"\xA0\uE000"+"$3l"],[/(\d+)(| )(ccm|gal)/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(ccm|gal)/g,"$1"+"\xA0\uE000"+"$3"],[/(\d+)(| )(|m|c|d|k)m(\d)/g,"$1"+"\xA0"+"$3m$4"],[/(\d+)(| )\uE000(| )(|m|c|d|k)m(\d)/g,"$1"+"\xA0\uE000"+"$3m$4"],[/(\d+)(| )(ccm|gal)/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(ccm|gal)/g,"$1"+"\xA0\uE000"+"$4"],[/(\d+)(| )(ha|a)/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(ha|a)/g,"$1"+"\xA0\uE000"+"$4"],[/(\d+)(| )(|k|M)J/g,"$1"+"\xA0"+"$3J"],[/(\d+)(| )\uE000(| )(|k|M)J/g,"$1"+"\xA0\uE000"+"$4J"],[/(\d+)(| )(|k)cal/g,"$1"+"\xA0"+"$3cal"],[/(\d+)(| )\uE000(| )(|k)cal/g,"$1"+"\xA0"+"$4cal"],[/(\d+)(| )(|kWh|M)Wh/g,"$1"+"\xA0"+"$3Wh"],[/(\d+)(| )\uE000(| )(|kWh|M)Wh/g,"$1"+"\xA0\uE000"+"$4Wh"],[/(\d+)(| )(|k)m\/(s|min|h)/g,"$1"+"\xA0"+"$3m/$4"],[/(\d+)(| )\uE000(| )(|k)m\/(s|min|h)/g,"$1"+"\xA0\uE000"+"$4m/$5"],[/(\d+)(| )(K|°C|°F)/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(K|°C|°F)/g,"$1"+"\xA0\uE000"+"$4"],[/(\d+)(| )(|h|k|M)Pa/g,"$1"+"\xA0"+"$3Pa"],[/(\d+)(| )\uE000(| )(|h|k|M)Pa/g,"$1"+"\xA0\uE000"+"$4Pa"],[/(\d+)(| )(bar|atm)/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(bar|atm)/g,"$1"+"\xA0\uE000"+"$4"],[/(\d+)(| )(|k)W/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(|k)W/g,"$1"+"\xA0\uE000"+"$4"],[/(\d+)(| )(%)/g,"$1"+"\xA0"+"$3"],[/(\d+)(| )\uE000(| )(%)/g,"$1"+"\xA0\uE000"+"$3"]],number:[[/(\d)( |\u00a0)(\d)/g,"$1$3"],[/(\d)\uE000( |\u00a0)(\d)/g,"$1\uE000$3"],[/(\d)( |\u00a0)\uE000(\d)/g,"$1\uE000$3"],[/(\d|\uE000)(?=(\d{3}|\d{3}\uE000|\d\uE000\d{2}|\d{2}\uE000\d|\uE000\d{3}|\d\uE000\d\uE000\d|\uE000\d\uE000r\d\uE000\d|\d\uE000\d\uE000\d\uE000)+(?!(\d|\uE000\d|\d\uE000)))/g,"$1"+"\u202F"]],space:[[/  /g," "],[/ (a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V) /g," $1\xA0"],[/ (a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V)\uE000 /g," $1\xA0\uE000"],[/ \uE000(a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V)\uE000 /g," \uE000$1\xA0\uE000"],[/ \uE000(a|i|o|u|s|z|k|v|A|I|O|U|S|Z|K|V) /g," \uE000$1\xA0"],[/([§|#])( )(\d)/g,"$1"+"\xA0"+"$3"],[/([§|#])(| )\uE000(| )(\d)/g,"$1"+"\xA0\uE000"+"$4"],[/(tj|tzv|tzn)\. /g,"$1.\xA0"]],date:[[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d{4})/g,"$1"+"\xA0"+"$3"+" "+"$5"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F(\d{3})/g,"$1"+"\xA0"+"$3"+" "+"$5"+"$6"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F(\d{2}\uE000\d)/g,"$1"+"\xA0"+"$3"+" "+"$5$6"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F\d\uE000(\d{2})/g,"$1"+"\xA0"+"$3"+" "+"$5$6"],[/(\d{1,2}\.)(| )(\d{1,2}\.)(| )(\d)\u202F(\uE000\d{3})/g,"$1"+"\xA0"+"$3"+" "+"$5$6"]],ellipsis:[[/\.{3}/g,"…"],[/\.{2}\uE000\./g,"\u2026\uE000"],[/\.\uE000\.\./g,"\uE000\u2026"],[/\.\uE000\.\uE000\./g,"\uE000\u2026\uE000"]],year:[[/( | \uE000|–|–\uE000|-|-\uE000|\u002F|\u002F\uE000)(1)\u202F(\d{3})(?!\u202F)/g,"$1$2$3"],[/( | \uE000|–|–\uE000|-|-\uE000|\u002F|\u002F\uE000)(2)\u202F(100|0\d\d)(?!\u202F)/g,"$1$2$3"]]},runAutoCorrector:function runAutoCorrector(settings,node){while(typo.checkUselessChar()){typo.setUselessChar()}options=Object.assign(typo.options,settings);var elementsWithClass=document.getElementsByClassName("typography-autocorrector");if(node!==undefined){typo.elementsDescendants(node);return}if(elementsWithClass.length>0){typo.elementsDescendants(elementsWithClass);return}var all=document.getElementsByTagName("*");typo.elementIteration(all)},elementsDescendants:function elementsDescendants(nodes){var _iterator=_createForOfIteratorHelper(nodes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var node=_step.value;var descendants=node.getElementsByTagName("*");typo.elementIteration(node);if(descendants>0){typo.elementIteration(descendants)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}},setUselessChar:function setUselessChar(){for(var rule in typo.Rules){rule.replace(typo.uselessChar,typo.uselessCharsCollection[0])}typo.uselessChar=typo.uselessCharsCollection[0];typo.uselessCharsCollection.shift();return},checkUselessChar:function checkUselessChar(){if(typo.uselessCharsCollection.length===0){console.error("Změňte proměnou uselessChar ve scriptu na znak, který se nevyskystuje na stránce.");return false}var str=document.getElementsByTagName("BODY")[0].textContent;var patt=new RegExp(typo.uselessChar);var result=patt.test(str);return result},elementIteration:function elementIteration(all){if(all.length>0){var _iterator2=_createForOfIteratorHelper(all),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var element=_step2.value;if(typo.shouldSkip(element)){continue}typo.textJoining(element)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}else{if(typo.shouldSkip(all)){return}typo.textJoining(all)}},shouldSkip:function shouldSkip(node){if(typo.ignoredElemenents.includes(node.tagName)||node.textContent===""||typo.inLineElements.includes(node.tagName)){return true}return false},getSiblings:function getSiblings(element){var sibs=[];sibs.push(element);if(element.nextSibling===null){return sibs}while(element=element.nextSibling){sibs.push(element)}return sibs},textJoining:function textJoining(node){var nodes=typo.getText(node);var text="";var _iterator3=_createForOfIteratorHelper(nodes),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _node=_step3.value;text=text.concat(_node.textContent);text=text.concat(typo.uselessChar)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}text=typo.improveTypography(text);var textField=text.split(typo.uselessChar,nodes.length);for(var i=0;i<textField.length;i++){nodes[i].textContent=textField[i]}return},getText:function getText(node){var sibsWithText=[];if(node.textContent===""){return sibsWithText}var sibs=typo.getSiblings(node.childNodes[0]);var _iterator4=_createForOfIteratorHelper(sibs),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var sib=_step4.value;if(sib.nodeValue!==null&&sib.nodeType===3){sibsWithText.push(sib)}if(sib.hasChildNodes&&sib.textContent!==""&&typo.inLineElements.includes(sib.tagName)&&sib.nodeType===1){var sibsOfChild=typo.getText(sib);var _iterator5=_createForOfIteratorHelper(sibsOfChild),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var sibWithText=_step5.value;sibsWithText.push(sibWithText)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}return sibsWithText},improveTypography:function improveTypography(string){if(typo.options.quote){var _iterator6=_createForOfIteratorHelper(typo.Rules.quote),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var rule=_step6.value;string=string.replace(rule[0],rule[1])}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}}if(typo.options.units){var _iterator7=_createForOfIteratorHelper(typo.Rules.units),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _rule=_step7.value;string=string.replace(_rule[0],_rule[1])}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}}if(typo.options.number){var _iterator8=_createForOfIteratorHelper(typo.Rules.number),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _rule2=_step8.value;string=string.replace(_rule2[0],_rule2[1])}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}if(typo.options.space){var _iterator9=_createForOfIteratorHelper(typo.Rules.space),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _rule3=_step9.value;string=string.replace(_rule3[0],_rule3[1])}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}if(typo.options.date){var _iterator10=_createForOfIteratorHelper(typo.Rules.date),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _rule4=_step10.value;string=string.replace(_rule4[0],_rule4[1])}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}}if(typo.options.ellipsis){var _iterator11=_createForOfIteratorHelper(typo.Rules.ellipsis),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _rule5=_step11.value;string=string.replace(_rule5[0],_rule5[1])}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}}if(typo.options.year){var _iterator12=_createForOfIteratorHelper(typo.Rules.year),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _rule6=_step12.value;string=string.replace(_rule6[0],_rule6[1])}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}}return string}};
